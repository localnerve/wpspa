/*
 * connect middleware to mock the api
 */
module.exports = function(req, res, next) {
  if (req.url.indexOf("/api/wpspa/menu") === 0) {
    res.setHeader("Content-Type", "application/json");
    res.end(
      JSON.stringify({"status":"ok","count":4,"count_total":4,"pages":1,"posts":[{"id":59,"type":"nav_menu_item","slug":"home","url":"http:\/\/jsonapi.local\/home\/","status":"publish","title":"Home","title_plain":"Home","content":"","excerpt":"","date":"2013-08-15 21:49:29","modified":"2013-10-01 17:49:39","categories":[],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"open","custom_fields":{"_menu_item_menu_item_parent":["0"],"_menu_item_wpspa_route":["\/"],"_menu_item_wpspa_menu_text":["Home"],"_menu_item_wpspa_post_type":["recent"],"_menu_item_wpspa_object_id":["1"],"_menu_item_wpspa_object_links":[]}},{"id":60,"type":"nav_menu_item","slug":"60","url":"http:\/\/jsonapi.local\/60\/","status":"publish","title":"","title_plain":"","content":"","excerpt":"","date":"2013-08-15 21:49:29","modified":"2013-10-01 17:49:39","categories":[],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"open","custom_fields":{"_menu_item_menu_item_parent":["0"],"_menu_item_wpspa_route":["\/sample-page"],"_menu_item_wpspa_menu_text":["Sample Page"],"_menu_item_wpspa_post_type":["page"],"_menu_item_wpspa_object_id":["2"],"_menu_item_wpspa_object_links":[]}},{"id":61,"type":"nav_menu_item","slug":"61","url":"http:\/\/jsonapi.local\/61\/","status":"publish","title":"","title_plain":"","content":"","excerpt":"","date":"2013-08-15 21:49:30","modified":"2013-10-01 17:49:39","categories":[],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"open","custom_fields":{"_menu_item_menu_item_parent":["0"],"_menu_item_wpspa_route":["\/page-two"],"_menu_item_wpspa_menu_text":["Page Two"],"_menu_item_wpspa_post_type":["page"],"_menu_item_wpspa_object_id":["11"],"_menu_item_wpspa_object_links":[{"id":76,"type":"page","href":"http:\/\/jsonapi.local\/an-internal-page\/","has_comments":false,"can_comment":true,"prefetch":false}]}},{"id":68,"type":"nav_menu_item","slug":"68","url":"http:\/\/jsonapi.local\/68\/","status":"publish","title":"","title_plain":"","content":"","excerpt":"","date":"2013-10-01 17:47:03","modified":"2013-10-01 17:49:39","categories":[],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"open","custom_fields":{"_menu_item_menu_item_parent":["61"],"_menu_item_wpspa_route":["\/page-two\/page-two-subpage"],"_menu_item_wpspa_menu_text":["Page Two Subpage"],"_menu_item_wpspa_post_type":["page"],"_menu_item_wpspa_object_id":["66"],"_menu_item_wpspa_object_links":[]}}],"query":{"post_type":"nav_menu_item","order":"ASC","orderby":"menu_order","custom_fields":"_menu_item_menu_item_parent,_menu_item_wpspa_route,_menu_item_wpspa_menu_text,_menu_item_wpspa_post_type,_menu_item_wpspa_object_id,_menu_item_wpspa_object_links","ignore_sticky_posts":true}})
    );
  } else if (req.url.indexOf("/api/wpspa/site_info") === 0) {
    res.setHeader("Content-Type", "application/json");
    res.end(
      JSON.stringify({"status":"ok","name":"WPSPA","description":"Just another WordPress site, NOT!"})
    );
  } else if (req.url.indexOf("/api/get_posts/?post_type=") === 0) {
    res.setHeader("Content-Type", "application/json");
    res.end(
      // 'http://jsonapi.local/api/get_posts/?post_type=any'
      JSON.stringify({"status":"ok","count":4,"count_total":4,"pages":1,"posts":[{"id":63,"type":"post","slug":"another-test-post","url":"http:\/\/jsonapi.local\/another-test-post\/","status":"publish","title":"Another Test Post","title_plain":"Another Test Post","content":"<p>This is another test post<\/p>\n","excerpt":"<p>This is another test post<\/p>\n","date":"2013-08-25 20:30:16","modified":"2013-09-23 20:00:12","categories":[{"id":7,"slug":"my-test-category","title":"My Test Category","description":"This is a test category to see what the API results look like.","parent":0,"post_count":1}],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"open","custom_fields":{}},{"id":11,"type":"page","slug":"page-two","url":"http:\/\/jsonapi.local\/page-two\/","status":"publish","title":"Page Two","title_plain":"Page Two","content":"<p>This is the second page. La Ti Da&#8230;<\/p>\n","excerpt":"<p>This is the second page. La Ti Da&#8230;<\/p>\n","date":"2013-08-15 01:06:07","modified":"2013-08-15 14:21:55","categories":[],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"open","custom_fields":{}},{"id":2,"type":"page","slug":"sample-page","url":"http:\/\/jsonapi.local\/sample-page\/","status":"publish","title":"Sample Page","title_plain":"Sample Page","content":"<p>This is an example page. It&#8217;s different from a blog post because it will stay in one place and will show up in your site navigation (in most themes). Most people start with an About page that introduces them to potential site visitors. It might say something like this:<\/p>\n<blockquote><p>Hi there! I&#8217;m a bike messenger by day, aspiring actor by night, and this is my blog. I live in Los Angeles, have a great dog named Jack, and I like pi&#241;a coladas. (And gettin&#8217; caught in the rain.)<\/p><\/blockquote>\n<p>&#8230;or something like this:<\/p>\n<blockquote><p>The XYZ Doohickey Company was founded in 1971, and has been providing quality doohickeys to the public ever since. Located in Gotham City, XYZ employs over 2,000 people and does all kinds of awesome things for the Gotham community.<\/p><\/blockquote>\n<p>As a new WordPress user, you should go to <a href=\"http:\/\/jsonapi.local\/wp-admin\/\">your dashboard<\/a> to delete this page and create new pages for your content. Have fun!<\/p>\n","excerpt":"<p>This is an example page. It&#8217;s different from a blog post because it will stay in one place and will show up in your site navigation (in most themes). Most people start with an About page that introduces them to potential site visitors. It might say something like this: Hi there! I&#8217;m a bike messenger [&hellip;]<\/p>\n","date":"2013-07-25 16:20:06","modified":"2013-07-25 16:20:06","categories":[],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"open","custom_fields":{}},{"id":1,"type":"post","slug":"hello-world","url":"http:\/\/jsonapi.local\/hello-world\/","status":"publish","title":"Hello world!","title_plain":"Hello world!","content":"<p>Welcome to WordPress. This is your first post. Edit or delete it, then start blogging!<\/p>\n","excerpt":"<p>Welcome to WordPress. This is your first post. Edit or delete it, then start blogging!<\/p>\n","date":"2013-07-25 16:20:06","modified":"2013-07-25 16:20:06","categories":[],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[{"id":1,"name":"Mr WordPress","url":"http:\/\/wordpress.org\/","date":"2013-07-25 16:20:06","content":"<p>Hi, this is a comment.<br \/>\nTo delete a comment, just log in and view the post&#039;s comments. There you will have the option to edit or delete them.<\/p>\n","parent":0}],"attachments":[],"comment_count":1,"comment_status":"open","custom_fields":{}}],"query":{"ignore_sticky_posts":true,"post_type":"any"}})
    );
  } else if (req.url.indexOf("/api/widgets/get_sidebar/?sidebar_id=sidebar-1") === 0) {
    res.setHeader("Content-type", "application/json");
    res.end(
      JSON.stringify({"status":"ok","sidebar_id":"sidebar-1","widgets":[{"id":"search-2","widget":"<aside id=\"search-2\" class=\"widget widget_search\"><form role=\"search\" method=\"get\" class=\"search-form\" action=\"http:\/\/jsonapi.local\/\">\n\t\t\t\t<label>\n\t\t\t\t\t<span class=\"screen-reader-text\">Search for:<\/span>\n\t\t\t\t\t<input type=\"search\" class=\"search-field\" placeholder=\"Search &hellip;\" value=\"\" name=\"s\" title=\"Search for:\" \/>\n\t\t\t\t<\/label>\n\t\t\t\t<input type=\"submit\" class=\"search-submit\" value=\"Search\" \/>\n\t\t\t<\/form><\/aside>","params":{"name":"Main Widget Area","id":"sidebar-1","description":"Appears in the footer section of the site.","class":"","before_widget":"<aside id=\"search-2\" class=\"widget widget_search\">","after_widget":"<\/aside>","before_title":"<h3 class=\"widget-title\">","after_title":"<\/h3>","widget_id":"search-2","widget_name":"Search"},"instance":{"title":""}},{"id":"recent-posts-2","widget":"<aside id=\"recent-posts-2\" class=\"widget widget_recent_entries\">\t\t<h3 class=\"widget-title\">Recent Posts<\/h3>\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t<a href=\"http:\/\/jsonapi.local\/another-test-post\/\" title=\"Another Test Post\">Another Test Post<\/a>\n\t\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t<a href=\"http:\/\/jsonapi.local\/hello-world\/\" title=\"Hello world!\">Hello world!<\/a>\n\t\t\t\t\t\t<\/li>\n\t\t\t\t<\/ul>\n\t\t<\/aside>","params":{"name":"Main Widget Area","id":"sidebar-1","description":"Appears in the footer section of the site.","class":"","before_widget":"<aside id=\"recent-posts-2\" class=\"widget widget_recent_entries\">","after_widget":"<\/aside>","before_title":"<h3 class=\"widget-title\">","after_title":"<\/h3>","widget_id":"recent-posts-2","widget_name":"Recent Posts"},"instance":{"title":"","number":5}},{"id":"recent-comments-2","widget":"<aside id=\"recent-comments-2\" class=\"widget widget_recent_comments\"><h3 class=\"widget-title\">Recent Comments<\/h3><ul id=\"recentcomments\"><li class=\"recentcomments\"><a href='http:\/\/wordpress.org\/' rel='external nofollow' class='url'>Mr WordPress<\/a> on <a href=\"http:\/\/jsonapi.local\/hello-world\/#comment-1\">Hello world!<\/a><\/li><\/ul><\/aside>","params":{"name":"Main Widget Area","id":"sidebar-1","description":"Appears in the footer section of the site.","class":"","before_widget":"<aside id=\"recent-comments-2\" class=\"widget widget_recent_comments\">","after_widget":"<\/aside>","before_title":"<h3 class=\"widget-title\">","after_title":"<\/h3>","widget_id":"recent-comments-2","widget_name":"Recent Comments"},"instance":{"title":"","number":5}},{"id":"archives-2","widget":"<aside id=\"archives-2\" class=\"widget widget_archive\"><h3 class=\"widget-title\">Archives<\/h3>\t\t<ul>\n\t\t\t<li><a href='http:\/\/jsonapi.local\/2013\/08\/' title='August 2013'>August 2013<\/a><\/li>\n\t<li><a href='http:\/\/jsonapi.local\/2013\/07\/' title='July 2013'>July 2013<\/a><\/li>\n\t\t<\/ul>\n<\/aside>","params":{"name":"Main Widget Area","id":"sidebar-1","description":"Appears in the footer section of the site.","class":"","before_widget":"<aside id=\"archives-2\" class=\"widget widget_archive\">","after_widget":"<\/aside>","before_title":"<h3 class=\"widget-title\">","after_title":"<\/h3>","widget_id":"archives-2","widget_name":"Archives"},"instance":{"title":"","count":0,"dropdown":0}},{"id":"categories-2","widget":"<aside id=\"categories-2\" class=\"widget widget_categories\"><h3 class=\"widget-title\">Categories<\/h3>\t\t<ul>\n\t<li class=\"cat-item cat-item-7\"><a href=\"http:\/\/jsonapi.local\/category\/my-test-category\/\" title=\"This is a test category to see what the API results look like.\">My Test Category<\/a>\n<\/li>\n\t<li class=\"cat-item cat-item-1\"><a href=\"http:\/\/jsonapi.local\/category\/uncategorized\/\" title=\"View all posts filed under Uncategorized\">Uncategorized<\/a>\n<\/li>\n\t\t<\/ul>\n<\/aside>","params":{"name":"Main Widget Area","id":"sidebar-1","description":"Appears in the footer section of the site.","class":"","before_widget":"<aside id=\"categories-2\" class=\"widget widget_categories\">","after_widget":"<\/aside>","before_title":"<h3 class=\"widget-title\">","after_title":"<\/h3>","widget_id":"categories-2","widget_name":"Categories"},"instance":{"title":"","count":0,"hierarchical":0,"dropdown":0}},{"id":"meta-2","widget":"<aside id=\"meta-2\" class=\"widget widget_meta\"><h3 class=\"widget-title\">Meta<\/h3>\t\t\t<ul>\n\t\t\t\t\t\t<li><a href=\"http:\/\/jsonapi.local\/wp-login.php\">Log in<\/a><\/li>\n\t\t\t<li><a href=\"http:\/\/jsonapi.local\/feed\/\" title=\"Syndicate this site using RSS 2.0\">Entries <abbr title=\"Really Simple Syndication\">RSS<\/abbr><\/a><\/li>\n\t\t\t<li><a href=\"http:\/\/jsonapi.local\/comments\/feed\/\" title=\"The latest comments to all posts in RSS\">Comments <abbr title=\"Really Simple Syndication\">RSS<\/abbr><\/a><\/li>\n\t\t\t<li><a href=\"http:\/\/wordpress.org\/\" title=\"Powered by WordPress, state-of-the-art semantic personal publishing platform.\">WordPress.org<\/a><\/li>\t\t\t\t\t\t<\/ul>\n<\/aside>","params":{"name":"Main Widget Area","id":"sidebar-1","description":"Appears in the footer section of the site.","class":"","before_widget":"<aside id=\"meta-2\" class=\"widget widget_meta\">","after_widget":"<\/aside>","before_title":"<h3 class=\"widget-title\">","after_title":"<\/h3>","widget_id":"meta-2","widget_name":"Meta"},"instance":{"title":""}}]})
    );
  } else if (req.url.indexOf("/api/get_recent_posts") === 0) {
    res.setHeader("Content-type", "application/json");
    res.end(
      JSON.stringify({"status":"ok","count":2,"count_total":2,"pages":1,"posts":[{"id":63,"type":"post","slug":"another-test-post","url":"http:\/\/jsonapi.local\/another-test-post\/","status":"publish","title":"Another Test Post","title_plain":"Another Test Post","content":"<p>This is another test post<\/p>\n","excerpt":"<p>This is another test post<\/p>\n","date":"2013-08-25 20:30:16","modified":"2013-08-25 20:30:16","categories":[],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"open","custom_fields":{}},{"id":1,"type":"post","slug":"hello-world","url":"http:\/\/jsonapi.local\/hello-world\/","status":"publish","title":"Hello world!","title_plain":"Hello world!","content":"<p>Welcome to WordPress. This is your first post. Edit or delete it, then start blogging!<\/p>\n","excerpt":"<p>Welcome to WordPress. This is your first post. Edit or delete it, then start blogging!<\/p>\n","date":"2013-07-25 16:20:06","modified":"2013-07-25 16:20:06","categories":[],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[{"id":1,"name":"Mr WordPress","url":"http:\/\/wordpress.org\/","date":"2013-07-25 16:20:06","content":"<p>Hi, this is a comment.<br \/>\nTo delete a comment, just log in and view the post&#039;s comments. There you will have the option to edit or delete them.<\/p>\n","parent":0}],"attachments":[],"comment_count":1,"comment_status":"open","custom_fields":{}}]})
    );
  } else if (req.url.indexOf("/api/get_category_posts/?id=7") === 0) {
    res.setHeader("Content-type", "application/json");
    res.end(
      JSON.stringify({"status":"ok","count":1,"pages":1,"category":{"id":7,"slug":"my-test-category","title":"My Test Category","description":"This is a test category to see what the API results look like.","parent":0,"post_count":1},"posts":[{"id":63,"type":"post","slug":"another-test-post","url":"http:\/\/jsonapi.local\/another-test-post\/","status":"publish","title":"Another Test Post","title_plain":"Another Test Post","content":"<p>This is another test post<\/p>\n","excerpt":"<p>This is another test post<\/p>\n","date":"2013-08-25 20:30:16","modified":"2013-09-23 20:00:12","categories":[{"id":7,"slug":"my-test-category","title":"My Test Category","description":"This is a test category to see what the API results look like.","parent":0,"post_count":1}],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"open","custom_fields":{}}]})
    );
  } else if (req.url.indexOf("/api/get_date_posts/?date=2013/08") === 0) {
    res.setHeader("Content-type", "application/json");
    res.end(
      JSON.stringify({"status":"ok","count":1,"count_total":1,"pages":1,"posts":[{"id":63,"type":"post","slug":"another-test-post","url":"http:\/\/jsonapi.local\/another-test-post\/","status":"publish","title":"Another Test Post","title_plain":"Another Test Post","content":"<p>This is another test post<\/p>\n","excerpt":"<p>This is another test post<\/p>\n","date":"2013-08-25 20:30:16","modified":"2013-09-23 20:00:12","categories":[{"id":7,"slug":"my-test-category","title":"My Test Category","description":"This is a test category to see what the API results look like.","parent":0,"post_count":1}],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"open","custom_fields":{}}]})
    );
  } else if (req.url.indexOf("/api/get_date_posts/?date=2013/07") === 0) {
    res.setHeader("Content-type", "application/json");
    res.end(
      JSON.stringify({"status":"ok","count":1,"count_total":1,"pages":1,"posts":[{"id":1,"type":"post","slug":"hello-world","url":"http:\/\/jsonapi.local\/hello-world\/","status":"publish","title":"Hello world!","title_plain":"Hello world!","content":"<p>Welcome to WordPress. This is your first post. Edit or delete it, then start blogging!<\/p>\n","excerpt":"<p>Welcome to WordPress. This is your first post. Edit or delete it, then start blogging!<\/p>\n","date":"2013-07-25 16:20:06","modified":"2013-07-25 16:20:06","categories":[],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[{"id":1,"name":"Mr WordPress","url":"http:\/\/wordpress.org\/","date":"2013-07-25 16:20:06","content":"<p>Hi, this is a comment.<br \/>\nTo delete a comment, just log in and view the post&#039;s comments. There you will have the option to edit or delete them.<\/p>\n","parent":0}],"attachments":[],"comment_count":1,"comment_status":"open","custom_fields":{}}]})
    );
  } else if (req.url.indexOf("/api/get_search_results/?search=page%20two") === 0) {
    res.setHeader("Content-type", "application/json");
    res.end(
      JSON.stringify({"status":"ok","count":2,"count_total":2,"pages":1,"posts":[{"id":66,"type":"page","slug":"page-two-subpage","url":"http:\/\/jsonapi.local\/page-two\/page-two-subpage\/","status":"publish","title":"Page Two Subpage","title_plain":"Page Two Subpage","content":"<p>This is a child page of page two. Enjoy&#8230;<\/p>\n","excerpt":"<p>This is a child page of page two. Enjoy&#8230;<\/p>\n","date":"2013-10-01 17:33:07","modified":"2013-10-01 17:33:07","categories":[],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"open","custom_fields":{}},{"id":11,"type":"page","slug":"page-two","url":"http:\/\/jsonapi.local\/page-two\/","status":"publish","title":"Page Two","title_plain":"Page Two","content":"<p>This is the second page. La Ti Da&#8230;<\/p>\n","excerpt":"<p>This is the second page. La Ti Da&#8230;<\/p>\n","date":"2013-08-15 01:06:07","modified":"2013-08-15 14:21:55","categories":[],"tags":[],"author":{"id":1,"slug":"jsonuser","name":"jsonuser","first_name":"","last_name":"","nickname":"jsonuser","url":"","description":""},"comments":[],"attachments":[],"comment_count":0,"comment_status":"open","custom_fields":{}}]})
    );
  } else {
    next();
  }
};
